<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Animated Login Form | CodingNepal</title>
    <link rel="stylesheet"  href="./style.css">
  </head>
  <body>
    <div class="center">
      <h1>Sign-up</h1>
      <form onsubmit="signup(event)">
        <div class="txt_field">
          <input type="text" name="email" required>
          <span></span>
          <label>Email</label>
        </div>
        <div class="txt_field">
            <input type="text" required name="name">
            <span></span>
            <label>Full name</label>
          </div>
          <div class="txt_field">
            <input type="text" name="phone" required>
            <span></span>
            <label>phone</label>
          </div>
        <div class="txt_field">
          <input type="password" name="password" required>
          <span></span>
          <label>Password</label>
        </div>
        
        <input type="submit" value="Sign-up">
        <div class="signup_link">
         Existing member? <a href="./login.html">Login</a>
        </div>
      </form>
    </div>
<script>

 
 
    function signup(e){
      e.preventDefault();
      const checklocalstorage = localStorage.getItem('user-details');
      
        
        const form=new FormData(e.target);
        let signUpDetails={
            email:form.get('email'),
            name:form.get('name'),
            phone:form.get('phone'),
            password:form.get('password')
            }  
           
if(checklocalstorage==null){

  localStorage.setItem('user-details',JSON.stringify([signUpDetails]));
  alert('successfully registered!! Now you can login')
}else{
  objArra=JSON.parse(checklocalstorage)
  let checkExists=objArra.find(n=>n.email==signUpDetails.email);
  if(checkExists!=undefined){
alert('user already exists!!')
  }else{
    objArra.push(signUpDetails);
  localStorage.setItem('user-details',JSON.stringify(objArra));
    alert('successfully registered!! Now you can login')
  }

}


                
    }
</script>
  </body>
</html>
